{
  "schemaVersion": "1.0",
  "name": "monolith-python-to-rust-parity-orchestration",
  "description": "Runnable Unpack task graph to drive exhaustive Python->Rust parity for monolith/: validate inventory+checklists, build/normalize a canonical mapping table, generate domain port plans (agent_service/core/native_training/TF runtime), and produce a parity dashboard for next actions.",
  "entry": "task/index.ai.tsx",
  "modules": [
    {
      "id": "discover",
      "path": "task/00-discover.ai.tsx",
      "description": "Sanity-check required repo roots (monolith/, monolith-rs/) and load existing parity artifacts (index + per-file checklist tree) into bounded summary outputs."
    },
    {
      "id": "validate-inventory",
      "path": "task/01-validate-inventory.ai.tsx",
      "description": "Validate that every monolith/**/*.py file is accounted for (expected 334): parity index row count matches checklist files; report missing/extra items and emit machine-readable counts/diffs.",
      "dependsOn": ["discover"]
    },
    {
      "id": "generate-mapping-table",
      "path": "task/10-generate-mapping-table.ai.tsx",
      "description": "Generate/refresh a canonical Python->Rust mapping table for every Python file (destination crate/module, status, notes, and explicit N/A justifications).",
      "dependsOn": ["validate-inventory"]
    },
    {
      "id": "normalize-mapping",
      "path": "task/11-normalize-mapping.ai.tsx",
      "description": "Normalize mapping conventions (crate/module naming, tests/fixtures layout, proto/op boundaries, and required N/A justification schema) and emit conventions doc+JSON.",
      "dependsOn": ["generate-mapping-table"]
    },
    {
      "id": "agent-service-plan",
      "path": "task/20-agent-service-plan.ai.tsx",
      "description": "Create an implementation-ready plan for monolith/agent_service/** parity in monolith-rs (monolith-serving): file clustering, target modules, and test harness strategy (fake ZK + fake TFServing).",
      "dependsOn": ["normalize-mapping"]
    },
    {
      "id": "core-plan",
      "path": "task/30-core-plan.ai.tsx",
      "description": "Create a parity plan for monolith/core/** infra (hyperparams, base_layer/task, feature/model registry, hooks): identify high-risk semantics and required Rust test strategies.",
      "dependsOn": ["normalize-mapping"]
    },
    {
      "id": "native-training-plan",
      "path": "task/40-native-training-plan.ai.tsx",
      "description": "Segment monolith/native_training/** into subdomains, flag TF-dependent vs TF-optional paths, map to Rust crates/modules, and propose milestone ordering with parity checks.",
      "dependsOn": ["normalize-mapping"]
    },
    {
      "id": "tf-runtime-plan",
      "path": "task/50-tf-runtime-plan.ai.tsx",
      "description": "Define optional TensorFlow runtime integration contract (dynamic libtensorflow loading, custom op loading, signatures, SavedModel IO), and enumerate parity gaps that require TF runtime.",
      "dependsOn": ["normalize-mapping"]
    },
    {
      "id": "parity-dashboard",
      "path": "task/90-parity-dashboard.ai.tsx",
      "description": "Roll up inventory validation, mapping, conventions, and domain plans into a single parity dashboard: coverage status, open parity gaps, and prioritized next work queue.",
      "dependsOn": [
        "validate-inventory",
        "generate-mapping-table",
        "normalize-mapping",
        "agent-service-plan",
        "core-plan",
        "native-training-plan",
        "tf-runtime-plan"
      ]
    },
    {
      "id": "index",
      "path": "task/index.ai.tsx",
      "description": "Entrypoint orchestrator: imports and sequences phases (discover/validate -> mapping -> domain plans -> dashboard) and emits final human-facing deliverable(s).",
      "dependsOn": ["parity-dashboard"]
    }
  ]
}

